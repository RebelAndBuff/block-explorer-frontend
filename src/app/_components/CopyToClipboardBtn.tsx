type Props = {
  content: string;
};

function copyToClipboard(hash: string) {
  navigator.clipboard.writeText(hash).then(
    () => {
      alert("Block hash copied to clipboard");
      /* resolved - text copied to clipboard successfully */
    },
    () => {
      alert("Failed to copy");
      /* rejected - text failed to copy to the clipboard */
    }
  );
}

export default function CopyToClipboardBtn({ content }: Props) {
  return (
    <button
      type="button"
      title="Copy block hash"
      className="w-fit"
      onClick={() => copyToClipboard(content)}
    >
      <svg
        width="12"
        height="12"
        viewBox="0 0 10 10"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="ml-1"
      >
        <g clipPath="url(#clip0_5_559)">
          <path
            d="M8.31215 2.30686L6.86048 0.854356C6.5902 0.582746 6.26876 0.36741 5.91474 0.220797C5.56072 0.0741838 5.18115 -0.000797324 4.79798 0.000188894H2.91673C2.3644 0.000850502 1.83488 0.220556 1.44432 0.611114C1.05376 1.00167 0.834059 1.53119 0.833397 2.08352V7.91686C0.834059 8.46919 1.05376 8.99871 1.44432 9.38926C1.83488 9.77982 2.3644 9.99953 2.91673 10.0002H7.0834C7.63573 9.99953 8.16525 9.77982 8.55581 9.38926C8.94636 8.99871 9.16607 8.46919 9.16673 7.91686V4.36894C9.16777 3.98578 9.09277 3.60623 8.94607 3.25226C8.79938 2.8983 8.58391 2.57696 8.31215 2.30686ZM7.72298 2.89602C7.85021 3.02692 7.95963 3.17402 8.0484 3.33352H6.25006C6.13956 3.33352 6.03358 3.28962 5.95544 3.21148C5.8773 3.13334 5.8334 3.02736 5.8334 2.91686V1.11852C5.99295 1.20724 6.14018 1.31651 6.27131 1.44352L7.72298 2.89602ZM8.3334 7.91686C8.3334 8.24838 8.2017 8.56632 7.96728 8.80074C7.73286 9.03516 7.41492 9.16685 7.0834 9.16685H2.91673C2.58521 9.16685 2.26727 9.03516 2.03285 8.80074C1.79843 8.56632 1.66673 8.24838 1.66673 7.91686V2.08352C1.66673 1.752 1.79843 1.43406 2.03285 1.19964C2.26727 0.965218 2.58521 0.833522 2.91673 0.833522H4.79798C4.86631 0.833522 4.93256 0.846856 5.00006 0.853106V2.91686C5.00006 3.24838 5.13176 3.56632 5.36618 3.80074C5.6006 4.03516 5.91854 4.16686 6.25006 4.16686H8.31381C8.32006 4.23436 8.3334 4.30019 8.3334 4.36894V7.91686Z"
            fill="#374957"
          />
        </g>
        <defs>
          <clipPath id="clip0_5_559">
            <rect width="10" height="10" fill="white" />
          </clipPath>
        </defs>
      </svg>
    </button>
  );
}
